---
// src/components/home/FeaturedProjects.astro

const projectsData = [
    {
        id: 3, // Monumento en Sendero
        slug: "monumento-en-sendero",
        title: "Monumento en Sendero",
        category: "Restauración",
        imageSrc: "/images/monumento_sendero/monumento_sendero_2.jpeg",
        imageAlt: "Vista general del monumento en Sendero durante el proceso de restauración"
    },
    {
        id: 7, // Puente Laredo-Juárez
        slug: "puente-laredo-juarez",
        title: "Puente Laredo-Juárez",
        category: "Mantenimiento",
        imageSrc: "/images/laredo_juarez/Laredo_Juarez_final_1.jpeg",
        imageAlt: "Vista general del Puente Laredo-Juárez tras el mantenimiento"
    },
    {
        id: 4, // Cordones Concreto (Carr. Laredo)
        slug: "cordones-concreto-laredo",
        title: "Cordones Concreto (Carr. Laredo)",
        category: "Infraestructura",
        imageSrc: "/images/cordones_laredo/cordones_laredo_1.jpeg",
        imageAlt: "Vista general de la construcción de cordones de concreto en Carretera Laredo"
    }
];

const sectionTitle = "Proyectos que Inspiran";
const sectionIntro = "Un vistazo a cómo transformamos visiones en realidades tangibles, combinando diseño innovador y construcción de excelencia.";
const ctaLinkText = "Explorar Todos los Proyectos"; // Cambiado de ctaButtonText
---

<section class="bg-lightGray py-16 md:py-20 lg:py-24">
    <div class="container mx-auto px-4 sm:px-6 lg:px-8">
        {/* Título y Texto Introductorio */}
        <div class="text-center mb-12 md:mb-16">
            <h2 class="text-3xl md:text-4xl font-semibold text-neutralText balance-text scroll-animate util-slide-in-down util-duration-medium util-delay-200ms">
                {sectionTitle}
            </h2>
            {sectionIntro && (
                <p class="mt-4 max-w-2xl mx-auto text-lg md:text-xl text-neutralText/80 balance-text scroll-animate util-slide-in-up util-duration-medium util-delay-300ms">
                    {sectionIntro}
                </p>
            )}
        </div>

        {/* Grid de Proyectos */}
        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 md:gap-8">
            {projectsData.map((project) => (
                <a 
                    href={`/proyectos#proyecto-${project.id}`} 
                    class="block rounded-xl overflow-hidden shadow-lg hover:shadow-2xl focus:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2 focus-visible:ring-offset-lightGray group relative transition-all duration-300 ease-in-out transform hover:-translate-y-1 scroll-animate util-scale-up util-duration-normal util-delay-400ms"
                    aria-label={`Ver detalles del proyecto ${project.title}`}
                >
                    <img 
                        src={project.imageSrc} 
                        alt={project.imageAlt} 
                        class="w-full h-full object-cover aspect-[4/3] transition-transform duration-300 ease-in-out group-hover:scale-105" 
                        loading="lazy"
                        width="600" height="450"
                    />
                    <div class="absolute inset-0 bg-gradient-to-t from-black/80 via-black/50 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 ease-in-out flex flex-col justify-end p-4 md:p-6">
                        <h3 class="text-white text-lg md:text-xl xl:text-2xl font-semibold mb-1">
                            {project.title}
                        </h3>
                        {project.category && (
                            <p class="text-gray-300 text-sm md:text-base">
                                {project.category}
                            </p>
                        )}
                    </div>
                </a>
            ))}
        </div>

        {/* CTA General - Estilo Enlace */}
        <div class="text-center mt-12 md:mt-16 scroll-animate util-fade-in util-duration-fast util-delay-500ms">
            <a 
                href="/proyectos" 
                class="inline-flex items-center text-primary font-medium group text-lg hover:text-secondary transition-colors duration-300 focus:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2 focus-visible:ring-offset-lightGray"
            >
                {ctaLinkText}
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-5 h-5 ml-2 transition-transform duration-300 group-hover:translate-x-1">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M17.25 8.25 21 12m0 0-3.75 3.75M21 12H3" />
                </svg>
            </a>
        </div>
    </div>
</section>

<style>
    .balance-text {
        text-wrap: balance;
    }
    /* All component-specific animation keyframes, classes, and media queries have been removed. */
    /* These are now handled by global utility classes in src/styles/utilities/animations.css */
</style>